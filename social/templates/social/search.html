{% extends 'landing/base.html' %}
{% load crispy_forms_tags %}

{% block content %}
    <div class="container">

        <!-- link to direct back to post feed -->
        <div class="row justify-content-center mt-3">
            <div class="col-md-7 col-sm-12 ">
                <a href="{% url 'post-list' %}" class="btn btn-light">Back To Feed</a>
            </div>
        </div>

        <div class="row justify-content-center mt-3">
            <div class="col-md-7 col-sm-12 border-bottom">
                    <h4>Results Found: {{ profile_list.all.count }}</h4>
            </div>
        </div>
        
        <!-- block which displays the username matching the searched texts -->
        {% for profile in profile_list %}
            <div class="row justify-content-center mt-3">
                <div class="col-md-7 col-sm-12 border-bottom">
                    <img src="{{ profile.picture.url}}" class="rounded-circle" width="100" height="100" alt="Profile Picture of the Active User">
                    {% if profile.name %}
                        <h3 class="py-4">
                            <strong><a class="text-primary post-link" href="{% url 'profile' profile.pk %}">@{{post.author}} </a></strong>
                        </h3>
                    {% else %}
                        <h3 class="py-4">
                            <strong><a class="text-primary post-link" href="{% url 'profile' profile.pk %}">@{{profile.user}} </a></strong> 
                        </h3>
                    {% endif %}

                    {% if profile.bio %}
                        <p>
                            {{profile.bio}}
                        </p>
                    {% endif %}
                    {% if profile.birthdate %}
                        <p>
                            {{profile.birthdate}}
                        </p>
                    {% endif %}
                    {% if profile.location %}
                        <p>
                            {{profile.location}}
                        </p>
                    {% endif %}
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock content %}